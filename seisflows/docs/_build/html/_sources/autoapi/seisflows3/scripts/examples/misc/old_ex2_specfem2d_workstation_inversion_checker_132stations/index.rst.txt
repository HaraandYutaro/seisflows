:py:mod:`seisflows3.scripts.examples.misc.old_ex2_specfem2d_workstation_inversion_checker_132stations`
======================================================================================================

.. py:module:: seisflows3.scripts.examples.misc.old_ex2_specfem2d_workstation_inversion_checker_132stations

.. autoapi-nested-parse::

                   SEISFLOWS3 SPECFEM2D WORKSTATION EXAMPLE 2

   This example will run two iterations of an inversion to assess
   misfit between a homogenous halfspace model, and a checkerboard model, using
   3 sources and 132 stations. It is very similar to Example 1 but with a
   different TRUE model, and an increased number of stations.

   .. note::
       You can change the number of events (NTASK) and iterations (NITER) by
       changing the constants below the import statements

   .. note::
       The tasks involved include:
       1. Download, configure and compile SPECFEM2D
       2. Set up a SPECFEM2D working directory
       3. Generate starting model from Tape2007 example
       4. Generate target model w/ perturbed starting model
       5. Set up a SeisFlows3 working directory
       6. Run two iterations of an inversion workflow

   .. rubric::
       $ seisflows examples run 2



Module Contents
---------------


Functions
~~~~~~~~~

.. autoapisummary::

   seisflows3.scripts.examples.misc.old_ex2_specfem2d_workstation_inversion_checker_132stations.setup_specfem2d_for_model_true
   seisflows3.scripts.examples.misc.old_ex2_specfem2d_workstation_inversion_checker_132stations.setup_specfem2d_for_seisflows3_inversion
   seisflows3.scripts.examples.misc.old_ex2_specfem2d_workstation_inversion_checker_132stations.main



Attributes
~~~~~~~~~~

.. autoapisummary::

   seisflows3.scripts.examples.misc.old_ex2_specfem2d_workstation_inversion_checker_132stations.NTASK
   seisflows3.scripts.examples.misc.old_ex2_specfem2d_workstation_inversion_checker_132stations.NITER


.. py:data:: NTASK
   :annotation: = 3

   

.. py:data:: NITER
   :annotation: = 2

   

.. py:function:: setup_specfem2d_for_model_true(sf)

   Make some adjustments to the  parameter file to create the final velocity
   model. This function assumes it is running from inside the SPECFEM2D/DATA
   directory. Also assumes that setup_specfem2d_for_model_init() has been
   run, which set up how the model is output

   :type sf: seisflows3.seisflows.SeisFlows
   :param sf: the SeisFlows3 command line tool


.. py:function:: setup_specfem2d_for_seisflows3_inversion(sf)

   Final changes to the SPECFEM2D Par_file before running SeisFlows. Par_file
   will be used to control all the child specfem2d directories. Need to tell
   them to read models from .bin files, and to use existing station files
   rather than create them from the Par_file
   rather than create them from the Par_file


.. py:function:: main(run_example=False)

   Setup the example and then optionally run the actual seisflows workflow

   TODO Figure out how to not have to repeat this code block, which is
   TODO an exact copy of example 1

   :type run_example: bool
   :param run_example: Directly run the seisflows workflow after the setup


