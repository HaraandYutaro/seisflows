<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Background &mdash; SeisFlows3  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="_static/sf3_globe_alpha.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Change Log" href="changelog.html" />
    <link rel="prev" title="Extending SeisFlows3" href="extending.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> SeisFlows3
            <img src="_static/sf3_globe_alpha_wide.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="start_here.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="citeme.html">Cite</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Structure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="command_line_tool.html">Commmand Line Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameter_file.html">Parameter File</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_directory.html">Working Directory Structure</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="specfem2d_example.html">Specfem2D workstation example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How To</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending SeisFlows3</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Background</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#inheritance-in-python">Inheritance in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-problem-does-inheritance-solve">What problem does inheritance solve?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#plausible-but-cumbersome-approaches">Plausible but cumbersome approaches</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-inheritance-approach">The inheritance approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overwriting-functions">Overwriting functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#super-functions">super() functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#multiple-inheritance">Multiple inheritance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inheritance-in-seisflows3">Inheritance in SeisFlows3</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_dev_plan.html">Code Development Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SeisFlows3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Background</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/background.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="background">
<h1>Background<a class="headerlink" href="#background" title="Permalink to this headline"></a></h1>
<p>Understanding what SeisFlows is meant for and how it works requires a level of
background understanding. Here we provide brief explanations aimed to providing
a general overview of topics required to understand SeisFlows. Where applicable
we provide links and references to further, more in-depth material.</p>
<div class="section" id="inheritance-in-python">
<h2>Inheritance in Python<a class="headerlink" href="#inheritance-in-python" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">SeisFlows</span></code> is built upon the object-oriented programming concept of
<strong>inheritance</strong>. This documentation page is a simple introduction to
this concept to help new users and developers understand how SeisFlows3
is built and expected to operate.</p>
<p><strong>Inheritance</strong> is the ability of one class to derive attributes from
another class, improving code <em>re-usability</em>. Some terminology used in
to talk about this inheritance is defined here:</p>
<ul class="simple">
<li><p><strong>Base</strong> (Baseclass): The foundational <strong>Base</strong> class which defines
standard behavior. The Baseclass does not inherit any of its
attributes or behavior.</p></li>
<li><p><strong>Parent</strong> (Superclass): A class which is being inherited from. A
Parent can be a Baseclass, but inheritance can also be daisy-chained.</p></li>
<li><p><strong>Child</strong> (Subclass): A class that inherits some or all of its
attributes from a parent.</p></li>
</ul>
<p>Consider the following toy example where we define a <strong>Base</strong> class
which has some internal attributes and functions.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Base</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Baseclass example. All SeisFlows3 modules contain a Base class which</span>
<span class="sd">    defines the foundational structure that all inherited classes will adopt</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">example_integer</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">example_float</span><span class="o">=</span><span class="mf">1.2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The init function defines instance-variables and their</span>
<span class="sd">        default values</span>

<span class="sd">        :type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">example_integer</span> <span class="o">=</span> <span class="n">example_integer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">example_float</span> <span class="o">=</span> <span class="n">example_float</span>

    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check functions ensure that parameters are set correctly.</span>
<span class="sd">        This toy problem check function simply asserts types are</span>
<span class="sd">        set correctly.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">example_integer</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">),</span> \
            <span class="s2">&quot;The example integer must be &lt; 10&quot;</span>

        <span class="k">assert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">example_float</span> <span class="o">&gt;</span> <span class="mf">1.</span><span class="p">),</span> \
            <span class="s2">&quot;The example float must be &gt; 1.&quot;</span>

    <span class="k">def</span> <span class="nf">manipulate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Manipulate internal attributes</span>

<span class="sd">        Each module provides functions which serve a purpose in</span>
<span class="sd">        the larger workflow.</span>

<span class="sd">        :rtype: float</span>
<span class="sd">        :return: example integer added to example float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">example_integer</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">example_float</span>
</pre></div>
</div>
<p>We can quickly look at the behavior of this class by creating an
instance of it.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="o">=</span> <span class="n">Base</span><span class="p">(</span><span class="n">example_integer</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">example_float</span><span class="o">=</span><span class="mf">3.</span><span class="p">)</span>
<span class="n">module</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">AssertionError</span>                            <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">48</span><span class="o">-</span><span class="mi">0</span><span class="n">d3a45ed832e</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">1</span> <span class="n">module</span> <span class="o">=</span> <span class="n">Base</span><span class="p">(</span><span class="n">example_integer</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">example_float</span><span class="o">=</span><span class="mf">3.</span><span class="p">)</span>
<span class="o">----&gt;</span> <span class="mi">2</span> <span class="n">module</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>


<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">47</span><span class="o">-</span><span class="mi">19</span><span class="n">eac124f82c</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="n">check</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
     <span class="mi">21</span>         <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">     22         assert(self.example_integer &lt; 10), </span><span class="se">\</span>
<span class="s2">---&gt; 23             &quot;The example integer must be &lt; 10&quot;</span>
<span class="s2">     24</span>
<span class="s2">     25         assert(self.example_float &gt; 1.), </span><span class="se">\</span>


<span class="s2">AssertionError: The example integer must be &lt; 10</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="o">=</span> <span class="n">Base</span><span class="p">(</span><span class="n">example_integer</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">example_float</span><span class="o">=</span><span class="mf">3.</span><span class="p">)</span>
<span class="n">module</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">manipulate</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">9.0</span>
</pre></div>
</div>
</div>
<div class="section" id="what-problem-does-inheritance-solve">
<h2>What problem does inheritance solve?<a class="headerlink" href="#what-problem-does-inheritance-solve" title="Permalink to this headline"></a></h2>
<p>Say we want to use the structure of the <code class="docutils literal notranslate"><span class="pre">Baseclass</span></code>, but we need the
<code class="docutils literal notranslate"><span class="pre">manipulate</span></code> function to return the subtraction of <code class="docutils literal notranslate"><span class="pre">example_integer</span></code>
and <code class="docutils literal notranslate"><span class="pre">example_float</span></code>, instead of their addition. There are a few ways
to approach this problem.</p>
<div class="section" id="plausible-but-cumbersome-approaches">
<h3>Plausible but cumbersome approaches<a class="headerlink" href="#plausible-but-cumbersome-approaches" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><strong>Copy-paste</strong>: One method of doing this would be to copy-paste the
<em>entire</em> <code class="docutils literal notranslate"><span class="pre">Baseclass</span></code> (e.g., as <code class="docutils literal notranslate"><span class="pre">BaseCopy</span></code>) and re-define the
<code class="docutils literal notranslate"><span class="pre">manipulate</span></code> function. This would isntantly double our code length,
with a lot of the new code being completly redundant. Additionally,
if we made <strong>any</strong> changes to the <code class="docutils literal notranslate"><span class="pre">Baseclass</span></code>, we would need to
also make those changes to <code class="docutils literal notranslate"><span class="pre">BaseCopy</span></code> to keep functionality
consistent.</p></li>
<li><p><strong>Create a new function</strong>: Another method would be to define a
completly new function, e.g., <code class="docutils literal notranslate"><span class="pre">manipulate2</span></code>. This is more
acceptable, BUT if some other script, function or module calls
<code class="docutils literal notranslate"><span class="pre">Base.manipulate()</span></code>, we will now need to make them call
<code class="docutils literal notranslate"><span class="pre">Base.manipulate2()</span></code> instead. This involves a signficant amount of
work. Similarly, consider the case where we want to go back to the
original <code class="docutils literal notranslate"><span class="pre">manipulate</span></code> function.</p></li>
</ul>
</div>
<div class="section" id="the-inheritance-approach">
<h3>The inheritance approach<a class="headerlink" href="#the-inheritance-approach" title="Permalink to this headline"></a></h3>
<p><strong>Inheritance</strong> solves this problem but allowing us to overwrite the
manipulate function by creating a <code class="docutils literal notranslate"><span class="pre">Child</span></code> class, which inherits the
properties of its <code class="docutils literal notranslate"><span class="pre">Parent</span></code>. This results in the least amount of code
writing, keeps behavior consistent, and allows flexibility in editing
established code (e.g., the <code class="docutils literal notranslate"><span class="pre">Baseclass</span></code>). Let’s see how this is done:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Super</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This Superclass will now inherit all of the attributes of the Baseclass.</span>
<span class="sd">    It does nothing new.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="o">=</span> <span class="n">Super</span><span class="p">(</span><span class="n">example_integer</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">example_float</span><span class="o">=</span><span class="mf">3.</span><span class="p">)</span>
<span class="n">module</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">manipulate</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">9.0</span>
</pre></div>
</div>
</div>
<div class="section" id="overwriting-functions">
<h3>Overwriting functions<a class="headerlink" href="#overwriting-functions" title="Permalink to this headline"></a></h3>
<p>To solve the problem stated above, we can totally overwrite the
manipulate function to provide different behavior</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Super</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This Superclass overwrites the manipulate function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">manipulate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Manipulate internal attributes</span>

<span class="sd">        :rtype: float</span>
<span class="sd">        :return: example integer subtracted from example float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">example_integer</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">example_float</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="o">=</span> <span class="n">Super</span><span class="p">(</span><span class="n">example_integer</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">example_float</span><span class="o">=</span><span class="mf">3.</span><span class="p">)</span>
<span class="n">module</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">manipulate</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">3.0</span>
</pre></div>
</div>
</div>
<div class="section" id="super-functions">
<h3>super() functions<a class="headerlink" href="#super-functions" title="Permalink to this headline"></a></h3>
<p>The <a class="reference external" href="https://docs.python.org/3/library/functions.html#super">super()</a>
function “returns a proxy object that delegates method calls to a parent
or sibling class.” In other words, super() calls the Parent class.</p>
<p>We can use the Python super() function to directly incorporate functions
from the parent class, allowing us to build upon previously written
code. This is useful if you don’t want to completely overwrite a
previously-defined function.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Super</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This Superclass overwrites the manipulate function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">manipulate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Manipulate internal attributes</span>

<span class="sd">        :rtype: float</span>
<span class="sd">        :return: example integer subtracted from example float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">added_values</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">manipulate</span><span class="p">()</span>  <span class="c1"># This calls Base.manipulate()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;added_values=</span><span class="si">{</span><span class="n">added_values</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">added_values</span> <span class="o">**</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="o">=</span> <span class="n">Super</span><span class="p">(</span><span class="n">example_integer</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">example_float</span><span class="o">=</span><span class="mf">3.</span><span class="p">)</span>
<span class="n">module</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">manipulate</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">added_values</span><span class="o">=</span><span class="mf">9.0</span>
<span class="mf">81.0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="multiple-inheritance">
<h2>Multiple inheritance<a class="headerlink" href="#multiple-inheritance" title="Permalink to this headline"></a></h2>
<p>Inheritance can be chained, meaning former <code class="docutils literal notranslate"><span class="pre">Children</span></code> can become
<code class="docutils literal notranslate"><span class="pre">Parents</span></code>! Although chaining inheritance can quickly become messy and
confusing, it is useful for extending existing capabilities without
having to make direct edits to the <code class="docutils literal notranslate"><span class="pre">Parent</span></code> classes.</p>
<p>Let’s say you want to inherit all of the capabilities of the Super
class, but you want to extend it further for your own specific workflow.
Here we define a <code class="docutils literal notranslate"><span class="pre">Superer</span></code> class, which inherits and extends the
<code class="docutils literal notranslate"><span class="pre">Super</span></code> class (which itself inherits from the <code class="docutils literal notranslate"><span class="pre">Base</span></code> class).</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Superer</span><span class="p">(</span><span class="n">Super</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This Superclass inherits from the Super class, which itself inherits from the Base class</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_value</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        We can extend the internal attributes in our Superclass.</span>
<span class="sd">        The **kwargs allow us to be lazy and assume that the User understands class values must be</span>
<span class="sd">        passed all the way to the Baseclass</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_value</span> <span class="o">=</span> <span class="n">new_value</span>

    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        We would like to extend the check function to address our new value,</span>
<span class="sd">        while still checking the original values</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
        <span class="k">assert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">new_value</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">),</span> <span class="s2">&quot;New value must be &gt; 0&quot;</span>

    <span class="k">def</span> <span class="nf">manipulate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        We can further manipulate this function, which itself has been changed in</span>
<span class="sd">        the Superclass.</span>

<span class="sd">        :rtype: float</span>
<span class="sd">        :return: example integer subtracted from example float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">squared_values</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">manipulate</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;squared_values=</span><span class="si">{</span><span class="n">squared_values</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">squared_values</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="k">def</span> <span class="nf">manipulate_more</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        We can also define completely new functions which are not present in any of the Parent classes.</span>
<span class="sd">        This is useful when your Superclass needs to fully extend the functionalities of its Parents.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">manipulated_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">manipulate</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_value</span> <span class="o">+</span> <span class="n">manipulated_value</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="o">=</span> <span class="n">Superer</span><span class="p">(</span><span class="n">example_integer</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">example_float</span><span class="o">=</span><span class="mf">3.</span><span class="p">,</span> <span class="n">new_value</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">module</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;manipulate: </span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">manipulate</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;manipulate_more: </span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="n">manipulate_more</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">added_values</span><span class="o">=</span><span class="mf">9.0</span>
<span class="n">squared_values</span><span class="o">=</span><span class="mf">81.0</span>
<span class="n">manipulate</span><span class="p">:</span> <span class="mf">40.5</span>
<span class="n">added_values</span><span class="o">=</span><span class="mf">9.0</span>
<span class="n">squared_values</span><span class="o">=</span><span class="mf">81.0</span>
<span class="n">manipulate_more</span><span class="p">:</span> <span class="mf">42.5</span>
</pre></div>
</div>
</div>
<div class="section" id="inheritance-in-seisflows3">
<h2>Inheritance in SeisFlows3<a class="headerlink" href="#inheritance-in-seisflows3" title="Permalink to this headline"></a></h2>
<p>SeisFlows3 employs inheritance almost exactly like the example above. Take the
<code class="docutils literal notranslate"><span class="pre">System</span></code> module for example. The Base class defines required paths (such as
the location of the OUTPUT directory on disk. The definition of this path is
system-independent (it’s just a path). The setup() function is similarly
system-independent, as it just creates the directory structure in the working
directory.</p>
<p>One Child of our <code class="docutils literal notranslate"><span class="pre">System</span></code> Baseclass is the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> module, which defines
attributes for a module that interacts with high performance compute systems.
The <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> module defines more specific parameters, such as a WALLTIME,
dictating the length of time a workflow is submitted for.</p>
<p>For those working on a <code class="docutils literal notranslate"><span class="pre">Slurm</span></code> system, we create a child of <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>.
<code class="docutils literal notranslate"><span class="pre">Slurm</span></code> defines even <strong>more</strong> specific functionality, such as job status
checking using the <code class="docutils literal notranslate"><span class="pre">sacct</span></code> command.</p>
<p>And finally, we can have a specific Child which caters to the unique cluster
we’re working on. For example, <code class="docutils literal notranslate"><span class="pre">Chinook</span></code> defines the calls structure for
working on the University of Alaska Fairbanks HPC, named Chinook. <code class="docutils literal notranslate"><span class="pre">Chinook</span></code>
inherits <strong>all</strong> of the attributes of <code class="docutils literal notranslate"><span class="pre">Base</span></code>, <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> and <code class="docutils literal notranslate"><span class="pre">Slurm</span></code>,
reducing the amount of code repitition, keeping required structure consistent
for all of the Parent classes, while still providing the maximum amount of
flexibility of working on a specific compute system.</p>
<p>SeisFlows3 abstracts all of this behavior behind a generalized <code class="docutils literal notranslate"><span class="pre">System</span></code>
module. Therefore, calling something <code class="docutils literal notranslate"><span class="pre">system.submit()</span></code> will bring in all
of the inherited properites of the above mentioned system superclasses.</p>
<p>All SeisFlows3 modules are similarly structured, with <code class="docutils literal notranslate"><span class="pre">Base</span></code> classes defining
standard behavior, and Child classes extending and modifying these behavior.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="extending.html" class="btn btn-neutral float-left" title="Extending SeisFlows3" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="changelog.html" class="btn btn-neutral float-right" title="Change Log" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, SeisFlows3 Development Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>